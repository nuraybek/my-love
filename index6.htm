<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8">
  <title>zhanym sagan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:700&display=swap" rel="stylesheet">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', 'Segoe UI', sans-serif;
      background: #eee;
      overflow: hidden;
    }
    .bg_heart {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      overflow: hidden;
      z-index: 0;
      pointer-events: none;
    }
    .heart-bg {
      position: absolute;
      top: -50%;
      left: 0;
      width: 32px;
      height: 32px;
      background: #d3005a;
      transform: rotate(-45deg);
      opacity: 0.7;
      animation: love 7s linear forwards;
    }
    .heart-bg:before,
    .heart-bg:after {
      position: absolute;
      content: "";
      width: 100%;
      height: 100%;
      background: inherit;
      border-radius: 100%;
    }
    .heart-bg:before { top: -50%; left: 0; }
    .heart-bg:after { top: 0; right: -50%; }
    @keyframes love {
      0% { top: 110%; opacity: 1;}
      80% { opacity: 0.8;}
      100% { top: -10%; opacity: 0;}
    }

    .container {
      position: relative;
      z-index: 2;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      width: 100vw;
    }
    .card {
      background: #fff;
      box-shadow: -1px 8px 3px 0 rgba(0,0,0,0.13), 0 0 0 6px #ffe0fb50;
      min-height: 21em;
      padding: 2em 1em 7.5em 1em;
      position: relative;
      border-radius: 22px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      margin: 0 auto;
      max-width: 370px;
      width: 97vw;
    }
    .envelope {
      background: #cb231c;
      box-shadow: 0 3px 2px rgba(0, 0, 0, 0.18);
      margin: -2em -2em;
      position: absolute;
      transform: rotate(-8deg);
      z-index: -1;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      border-radius: 20px;
    }
    .gif-top {
      width: 80vw;
      max-width: 170px;
      border-radius: 18px;
      margin: 0 auto 18px auto;
      display: block;
      box-shadow: 0 4px 16px #ffb6c133;
      object-fit: cover;
    }
    h1 {
      font-size: 1.1em;
      font-weight: 700;
      margin: 0 0 1em 0;
      text-transform: none;
      width: 100%;
      text-align: center;
      letter-spacing: 1px;
      color: #cb231c;
      line-height: 1.45;
      font-family: 'Montserrat', 'Segoe UI', sans-serif;
      word-break: break-word;
    }
    em {
      color: #cc2119;
      font-style: normal;
      font-weight: bold;
    }
    /* SVG line styles */
    .svg-bottom {
      width: 100%;
      max-width: 350px;
      margin: 8px auto 0 auto;
      display: block;
    }
    svg#svg5 {
      width: 100%;
      height: 48px;
      display: block;
    }
    svg#svg5 #line {
      fill: none;
      stroke: #e00000;
      stroke-width: 1.5;
      stroke-linecap: butt;
      stroke-linejoin: round;
      stroke-miterlimit: 4;
      stroke-opacity: 1;
      stroke-dasharray: 1;
      stroke-dashoffset: 1;
      animation: dash 3s linear infinite;
    }
    svg#svg5 #point {
      fill: none;
      stroke: #f00000;
      stroke-width: 5;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: .1;
      stroke-opacity: 1;
      stroke-dasharray: .0001, .9999;
      stroke-dashoffset: 1;
      animation: dash 3s linear infinite;
      filter: url(#blur);
    }
    @keyframes dash {
      0% { stroke-dashoffset: 1;}
      80% { stroke-dashoffset: 0;}
      100% { stroke-dashoffset: 0;}
    }
    .from {
      font-size: 1em;
      color: #cc2119;
      margin-top: 10px;
      font-weight: 600;
      letter-spacing: 1px;
      text-align: center;
      margin-bottom: 4px;
      width: 100%;
    }
    .heart {
      width: 32px;
      height: 32px;
      background-color: #cd231b;
      position: relative;
      display: block;
      margin: 10px auto 0 auto;
      transform: rotate(-45deg);
    }
    .heart:before,
    .heart:after {
      content: "";
      position: absolute;
      width: 100%;
      height: 100%;
      background-color: #cd231b;
      border-radius: 100%;
    }
    .heart:before {
      top: -50%;
      left: 0;
    }
    .heart:after {
      top: 0;
      right: -50%;
    }
    .slider {
      width: 95%;
      max-width: 340px;
      height: 165px;
      overflow: hidden;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(255,100,150,0.13);
      background: #fff;
      margin: 16px auto 0 auto;
      z-index: 2;
      display: flex;
      align-items: center;
      position: relative;
      touch-action: pan-x;
    }
    .slides {
      display: flex;
      transition: transform 1s cubic-bezier(.7,.1,.3,1);
      height: 100%;
    }
    .slide {
      min-width: 100%;
      height: 100%;
      user-select: none;
      object-fit: cover;
      pointer-events: none;
    }
    .slider-nav {
      position: absolute;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 7px;
      z-index: 3;
    }
    .slider-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #ff96c2;
      opacity: 0.6;
      transition: opacity .3s;
      cursor: pointer;
      border: none;
      outline: none;
      appearance: none;
    }
    .slider-dot.active {
      opacity: 1;
      background: #cc2119;
    }

    @media (max-width: 600px) {
      .card { min-height: 13em; padding: 14vw 2vw 22vw 2vw; max-width: 98vw;}
      .gif-top { max-width: 110px;}
      .svg-bottom { max-width: 95vw;}
      h1 { font-size: 0.98em;}
      .slider { max-width: 99vw; height: 110px;}
    }
    @media (max-width: 400px) {
      .card { padding: 7vw 2vw 18vw 2vw;}
      .gif-top { max-width: 80px;}
      h1 { font-size: .87em;}
      .slider { height: 75px;}
    }
  </style>
</head>
<body>
  <div class="bg_heart"></div>
  <div class="container">
    <div class="card">
      <div class="envelope"></div>
      <img class="gif-top" src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExd2lhc3F6bGJwZGJ5YmNzazdoNHZlN3p0Y2JhZ2VkdGZnOWRwYmhrcSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/5ubHiAtBlv9lSlhVld/giphy.gif" alt="Love GIF">
      <h1>
        <span>Әрбір таңым, әр күнім – сен деп атқан,</span>
        <span>Аспандағы айымсың жарқыраған.</span>
        <span>Күндей жарықсың сен маған,</span>
        <span>Сен барда өмір гүлім боп жайнаған.</span>
      </h1>
      <div class="svg-bottom">
        <svg xmlns="http://www.w3.org/2000/svg" id="svg5" version="1.1" viewBox="-5 -5 278 56">
          <filter id="blur">
            <feGaussianBlur stdDeviation="1.6" />
          </filter>
          <g id="layer1" transform="translate(29.1 -127.42)">
            <path id="line" d="M-28.73 167.2c26.43 9.21 68.46-9.46 85.45-12.03 18.45-2.78 32.82 4.86 28.75 9.83-3.82 4.66-25.77-21.18-14.81-31.5 9.54-8.98 17.64 10.64 16.42 17.06-1.51-6.2 2.95-26.6 14.74-22.11 11.7 4.46-4.33 49.03-15.44 44.08-6.97-3.1 15.44-16.26 26.1-16 23.03.56 55.6 27.51 126.63 3.36" pathLength="1" />
          </g>
          <g id="layer2" transform="translate(29.1 -127.42)">
            <path filter="url(#blur)" id="point" d="M-28.73 167.2c26.43 9.21 68.46-9.46 85.45-12.03 18.45-2.78 32.82 4.86 28.75 9.83-3.82 4.66-25.77-21.18-14.81-31.5 9.54-8.98 17.64 10.64 16.42 17.06-1.51-6.2 2.95-26.6 14.74-22.11 11.7 4.46-4.33 49.03-15.44 44.08-6.97-3.1 15.44-16.26 26.1-16 23.03.56 55.6 27.51 126.63 3.36" pathLength="1" />
          </g>
        </svg>
      </div>
      <div class="from">Этот подарок от меня, Жаным</div>
      <div class="heart"></div>
      <div class="slider">
        <div class="slides">
          <img class="slide" src="https://ibb.co.com/whTHBbhL" alt="Фото 1">
          <img class="slide" src="https://ibb.co.com/V0vxG6jq" alt="Фото 2">
          <img class="slide" src="https://ibb.co.com/SwjMRPj1" alt="Фото 3">
        </div>
        <div class="slider-nav"></div>
      </div>
    </div>
  </div>
  <script>
    // Оптимизированная анимация сердечек (меньше сердечек — меньше лагов)
    setInterval(function(){
      // Меньше сердечек, только 1 за раз
      var r_size = Math.floor(Math.random() * 40) + 16;
      var r_left = Math.floor(Math.random() * 100);
      var r_bg = Math.floor(Math.random() * 25) + 100;
      var r_time = Math.floor(Math.random() * 4) + 5;

      function createHeart(size, left, bg, time) {
        var heart = document.createElement('div');
        heart.className = 'heart-bg';
        heart.style.width = size + 'px';
        heart.style.height = size + 'px';
        heart.style.left = left + '%';
        heart.style.background = 'rgba(255,'+(bg-25)+','+bg+',.9)';
        heart.style.animationDuration = time + 's';
        document.querySelector('.bg_heart').appendChild(heart);
        setTimeout(function(){ heart.remove(); }, (time+1)*1000);
      }

      createHeart(r_size, r_left, r_bg, r_time);
    }, 700);

    // Слайдер авто и свайп
    const slides = document.querySelector('.slides');
    const slideImages = document.querySelectorAll('.slide');
    const nav = document.querySelector('.slider-nav');
    let current = 0;
    let timer = null;
    const INTERVAL = 2500; // 2.5 сек

    // Навигационные точки
    for(let i=0; i<slideImages.length; i++) {
      let dot = document.createElement('button');
      dot.className = 'slider-dot' + (i===0 ? ' active' : '');
      dot.addEventListener('click', () => goToSlide(i));
      nav.appendChild(dot);
    }
    function goToSlide(n) {
      current = n;
      slides.style.transform = `translateX(${-n*100}%)`;
      document.querySelectorAll('.slider-dot').forEach((d,i)=>d.classList.toggle('active',i===n));
      resetTimer();
    }
    function nextSlide() {
      current = (current+1)%slideImages.length;
      goToSlide(current);
    }
    function resetTimer() {
      clearInterval(timer);
      timer = setInterval(nextSlide, INTERVAL);
    }
    // Свайп руками на мобильном
    let startX = 0;
    slides.addEventListener('touchstart', e => {
      startX = e.touches[0].clientX;
    });
    slides.addEventListener('touchend', e => {
      let dx = e.changedTouches[0].clientX - startX;
      if(dx > 40) goToSlide((current-1+slideImages.length)%slideImages.length);
      else if(dx < -40) nextSlide();
    });
    // Запуск
    resetTimer();
  </script>
</body>
</html>